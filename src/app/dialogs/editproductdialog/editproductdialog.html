<h2 mat-dialog-title>
  Edit Product: <strong>{{ productName }}</strong>
</h2>

<mat-dialog-content>
  @if(product$){
  <form [formGroup]="editProductForm" class="product-form">
    <mat-form-field>
      <mat-label>Product Code</mat-label>
      <input matInput formControlName="productCode" />
      @if(editProductForm.get('productCode')?.hasError('required')){
      <mat-error>Product code is required</mat-error>
      } @if(editProductForm.get('productCode')?.hasError('pattern')){
      <mat-error>Only alphanumeric allowed</mat-error>
      } @if(editProductForm.get('productCode')?.hasError('maxlength')){
      <mat-error>Max length 100</mat-error>
      }
    </mat-form-field>
    <mat-form-field>
      <mat-label>Product Name</mat-label>
      <input matInput formControlName="productName" />
      @if(editProductForm.get('productName')?.hasError('required')){
      <mat-error>Product name is required</mat-error>
      } @if(editProductForm.get('productName')?.hasError('pattern')){
      <mat-error>Only alphanumeric allowed</mat-error>
      } @if(editProductForm.get('productName')?.hasError('maxlength')){
      <mat-error>Max length 100</mat-error>
      }
    </mat-form-field>
    <mat-form-field>
      <mat-label>Product Description</mat-label>
      <input matInput formControlName="productDescription" />
      @if(editProductForm.get('productDescription')?.hasError('required')){
      <mat-error>Product description is required</mat-error>
      } @if(editProductForm.get('productDescription')?.hasError('pattern')){
      <mat-error>Only alphanumeric allowed</mat-error>
      } @if(editProductForm.get('productDescription')?.hasError('maxlength')){
      <mat-error>Max length 100</mat-error>
      }
    </mat-form-field>
    <mat-form-field>
      <mat-label>Manufacture Code</mat-label>
      <input matInput formControlName="manufactureCode" />
      @if(editProductForm.get('manufactureCode')?.hasError('required')){
      <mat-error>Product code required</mat-error>
      } @if(editProductForm.get('manufactureCode')?.hasError('pattern')){
      <mat-error>Only alphanumeric allowed</mat-error>
      } @if(editProductForm.get('manufactureCode')?.hasError('maxlength')){
      <mat-error>Max length 100</mat-error>
      }
    </mat-form-field>
    <mat-form-field>
      <mat-label>Manufacture Name</mat-label>
      <input matInput formControlName="manufactureName" />
      @if(editProductForm.get('manufactureName')?.hasError('required')){
      <mat-error>Manufacture name is required</mat-error>
      } @if(editProductForm.get('manufactureName')?.hasError('pattern')){
      <mat-error>Only alphanumeric allowed</mat-error>
      } @if(editProductForm.get('manufactureName')?.hasError('maxlength')){
      <mat-error>Max length 100</mat-error>
      }
    </mat-form-field>
    <mat-form-field>
      <mat-label>Manufacture Description</mat-label>
      <input matInput formControlName="manufactureDescription" />
      @if(editProductForm.get('manufactureDescription')?.hasError('required')){
      <mat-error>Manufacture description is required</mat-error>
      } @if(editProductForm.get('manufactureDescription')?.hasError('pattern')){
      <mat-error>Only alphanumeric allowed</mat-error>
      }
      @if(editProductForm.get('manufactureDescription')?.hasError('maxlength')){
      <mat-error>Max length 100</mat-error>
      }
    </mat-form-field>
    <mat-form-field>
      <mat-label>Carton Qty</mat-label>
      <input matInput formControlName="cartonQty" />
      @if(editProductForm.get('cartonQty')?.hasError('required')){
      <mat-error>Carton Qty is required</mat-error>
      } @if(editProductForm.get('cartonQty')?.hasError('pattern')){
      <mat-error>Only numbers allowed</mat-error>
      }
    </mat-form-field>

    <mat-form-field>
      <mat-label>Available</mat-label>
      <mat-select formControlName="available">
        <mat-option [value]="true">true</mat-option>
        <mat-option [value]="false">false</mat-option>
      </mat-select>
      @if(editProductForm.get('available')?.hasError('required')){
      <mat-error>Available required</mat-error>
      }
    </mat-form-field>
  </form>
  }@else {
  <strong>Sorry could not find the product.</strong>
  }
  <mat-dialog-actions class="center-buttons">
    <button mat-flat-button color="accent" (click)="close()">Close</button>
    <button
      mat-flat-button
      color="primary"
      [disabled]="editProductForm.invalid"
      (click)="editProduct()"
    >
      Edit Product
    </button>
  </mat-dialog-actions>
</mat-dialog-content>
